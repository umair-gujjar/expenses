<h2>Edit entry</h2>
<form data-bind="submit: save" class="form-horizontal">
    <div class="panel panel-default">
        <div class="panel-body">
            <div class="form-group">
                <label class="col-sm-2 control-label">ID</label>
                <div class="col-sm-10">
                    <input data-bind="value: $id"
                        type="text" readonly="true" class="form-control">
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">Title</label>
                <div class="col-sm-10">
                    <input data-bind="value: title"
                        type="text" name="title" title="Title" id="entry-title"
                        placeholder="Title" required="true" class="form-control">
                </div>
            </div>
        </div>
    </div>
    <h3>Items</h3>
    <div data-bind="foreach: items" class="items">
        <div class="panel panel-default">
            <div class="panel-body">
                <div class="form-group">
                    <label class="col-sm-2 control-label">Item title</label>
                    <div class="col-sm-10">
                        <input data-bind="value: title" type="text"
                             class="form-control">
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">Date</label>
                    <div class="col-sm-10">
                        <input data-bind="value: date"
                            type="text" pattern="\d{2}\.\d{2}\.\d{4}" name="date" title="Date"
                            placeholder="Date" required="true" class="form-control">
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">Debit</label>
                    <div class="col-sm-10">
                        <select data-bind="options: $parent.accounts, value: debit,
                            optionsCaption: 'Select account', optionsText: $parent.accountText,
                            optionsValue: $parent.accountValue"
                            required="true" class="form-control"></select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">Credit</label>
                    <div class="col-sm-10">
                        <select data-bind="options: $parent.accounts, value: credit,
                            optionsCaption: 'Select account', optionsText: $parent.accountText,
                            optionsValue: $parent.accountValue"
                            required="true" class="form-control"></select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">Original currency</label>
                    <div class="col-sm-10">
                        <select data-bind="options: $parent.currencies,
                            optionsCaption: 'Select currency', value: currency"
                            required="true" class="form-control"></select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">Original amount</label>
                    <div class="col-sm-10">
                        <input data-bind="value: amount" type="text"
                            required="true" pattern="\d+(?:\.(\d{2}))?" class="form-control">
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">EUR amount</label>
                    <div class="col-sm-10">
                        <input data-bind="value: eur_amount" type="text"
                            required="true" pattern="\d+(?:\.(\d{2}))?" class="form-control">
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-3">
                        <a data-bind="click: $parent.removeItem" class="btn btn-default" href="#" role="button">
                            <span class="glyphicon glyphicon-remove"></span> Delete item
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <button type="submit" class="btn btn-default">
        <span class="glyphicon glyphicon-ok"></span> Save
    </button>
    <a data-bind="click: addItem" class="btn btn-default" href="#" role="button">
        <span class="glyphicon glyphicon-list"></span> Add item
    </a>
    <a data-bind="click: remove" class="btn btn-default" href="#" role="button">
        <span class="glyphicon glyphicon-remove"></span> Delete
    </a>
    <a data-bind="attr: { href: $id ? '#entry/view/' + $id : '#entries' }" class="btn btn-default" href="#" role="button">
        <span class="glyphicon glyphicon-arrow-left"></span> Back
    </a>
</form>
